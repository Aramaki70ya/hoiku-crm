# Hoiku CRM - 画面名称・構成ドキュメント

このドキュメントは、開発作業時に「どの画面のどの部分を修正するか」を明確にするためのリファレンスです。

---

## 📑 目次

1. [ページ一覧](#ページ一覧)
2. [共通レイアウト要素](#共通レイアウト要素)
3. [各ページの詳細構成](#各ページの詳細構成)
4. [UIコンポーネント名称](#uiコンポーネント名称)
5. [画面指示の例](#画面指示の例)

---

## ページ一覧

| 画面名 | URL | ファイルパス | 説明 |
|--------|-----|--------------|------|
| **ダッシュボード** | `/` | `src/app/page.tsx` | トップページ。予算達成状況、KPI、課別進捗を表示 |
| **今日のタスク** | `/tasks` | `src/app/tasks/page.tsx` | 優先度別のタスク一覧 |
| **求職者管理** | `/candidates` | `src/app/candidates/page.tsx` | 求職者一覧（全体・アクティブ切り替え可能） |
| **求職者詳細** | `/candidates/[id]` | `src/app/candidates/[id]/page.tsx` | 個別の求職者詳細情報 |
| **成約管理** | `/contracts` | `src/app/contracts/page.tsx` | 成約した求職者の売上・入金状況 |
| **メンバー** | `/members` | `src/app/members/page.tsx` | 担当者別の進捗管理 |
| **面接一覧** | `/interviews` | `src/app/interviews/page.tsx` | 面接予定・実績の一覧 |
| **ログイン** | `/login` | `src/app/login/page.tsx` | ログイン画面 |

---

## 共通レイアウト要素

### サイドバー（Sidebar）
- **位置**: 画面左側、固定表示
- **ファイル**: `src/components/layout/sidebar.tsx`
- **主要要素**:
  - **ロゴエリア**: 「Hoiku CRM」ロゴ
  - **メインナビゲーション**: ページ切り替えメニュー
  - **下部ナビゲーション**: 設定リンク
  - **ユーザー情報**: プロフィール表示とログアウトボタン

### ヘッダー（Header）
- **位置**: 画面右上、各ページ共通
- **ファイル**: `src/components/layout/header.tsx`
- **主要要素**:
  - **ページタイトル**: 現在のページ名
  - **説明文**: ページの説明（オプション）
  - **検索バー**: 全画面検索（現在は装飾のみ）
  - **通知アイコン**: 通知バッジ付きベルアイコン

---

## 各ページの詳細構成

### 1. ダッシュボード (`/`)

#### 主要セクション

1. **期間選択バー**
   - 当月/前月/指定期間の切り替えボタン
   - カスタム期間選択（Popover）

2. **トップライン情報カード（4枚）**
   - **残り営業日カード**: 残り営業日数を表示
   - **予算達成状況カード**: 予算、売上、Aヨミ、Bヨミの表示
   - **不足金額カード**: 不足金額の推定値

3. **目標数値の前提条件カード**
   - **登録→初回率**: 目標値と実績値
   - **初回→面接率**: 目標値と実績値
   - **面接→成約率**: 目標値と実績値
   - **成約単価**: 目標単価と今月成約数

4. **課別予算進捗カード（2枚）**
   - **1課カード**: 予算、売上、Aヨミ、Bヨミ、達成率
   - **2課カード**: 同上

5. **全体プロセス進捗カード**
   - 8つのプロセス別の件数と割合表示
     - リード管理、面談フェーズ、提案フェーズ、面接フェーズ
     - 内定確認中、内定承諾、内定辞退、フォロー・ロスト

6. **課別詳細タブ**
   - **1課タブ / 2課タブ**: 切り替え可能
   - **売上数字・行動目標テーブル**: メンバー別の予算・成約額・面談設定数
   - **ヨミ数字（当月）テーブル**: メンバー別のA/B/C/Dヨミ
   - **ヨミ数字（翌月）テーブル**: 同上（翌月）
   - **ステータス概況テーブル**: メンバー別のプロセス別件数

7. **登録者数サマリーカード**
   - 今月の応募数
   - 全体の人数
   - 流入経路ごとの新規人数（LINEを除く）
   - 流入経路割合（LINEを除く）

---

### 2. 今日のタスク (`/tasks`)

#### 主要セクション

1. **優先度別サマリーカード（4枚）**
   - **最優先（S）カード**: S優先度のタスク数
   - **高優先度（A）カード**: A優先度のタスク数
   - **中優先度（B）カード**: B優先度のタスク数
   - **低優先度（C）カード**: C優先度のタスク数

2. **フィルターバー**
   - **優先度フィルター**: ドロップダウン選択
   - **担当者フィルター**: ドロップダウン選択
   - **フィルタークリアボタン**: フィルター解除
   - **タスク件数バッジ**: 表示中のタスク数

3. **タスク一覧テーブル**
   - カラム: 優先度、氏名、ステータス、コメント（タスク内容）、担当者、連絡先、詳細リンク

4. **優先度の説明エリア**
   - S/A/B/C各優先度の説明

---

### 3. 求職者管理 (`/candidates`)

#### 主要セクション

1. **タブ切り替え**
   - **全体タブ**: すべての求職者
   - **アクティブタブ**: 進行中の求職者のみ

2. **フィルターバー**
   - **検索バー**: 氏名、ID、電話番号で検索
   - **ステータスフィルター**: ドロップダウン選択
   - **担当者フィルター**: ドロップダウン選択
   - **新規登録ボタン**: 求職者の新規登録

3. **求職者一覧テーブル**
   - カラム: 優先度、ID、氏名、連絡先、ステータス、希望職種、担当者、登録日、詳細リンク

---

### 4. 求職者詳細 (`/candidates/[id]`)

#### 主要セクション

1. **ヘッダーエリア**
   - **戻るボタン**: 一覧に戻る
   - **氏名・ステータスバッジ**: 求職者名とステータス表示
   - **基本情報**: 年齢、都道府県、住所
   - **編集ボタン**: 求職者情報の編集

2. **左カラム: 基本情報カード**
   - **連絡先セクション**:
     - 電話番号
     - メールアドレス
     - 住所
   - **希望条件セクション**:
     - 希望職種
     - 希望雇用形態
     - 保有資格
   - **管理情報セクション**:
     - 登録日
     - 担当者

3. **右カラム: タブコンテンツ**
   - **選考状況タブ**: 関連する案件（プロジェクト）一覧
     - 案件追加ボタン
     - 案件カード: 面接先名、ヨミ、フェーズ、面接予定
   
   - **成約情報タブ**（成約済みの場合のみ表示）
     - 成約情報編集ボタン（ダイアログ）
     - 成約サマリーカード: 成約日、売上（税抜）
     - 成約詳細情報カード: 雇用形態、職種、入職先、入金日、請求書発送日、算出根拠、格納先URL
     - 売上情報カード: 売上（税抜）、売上（税込）
   
   - **タイムラインタブ**: 活動履歴の時系列表示
   
   - **メモタブ**: メモの表示・編集

---

### 5. 成約管理 (`/contracts`)

#### 主要セクション

1. **ヘッダーエリア**
   - **ページタイトル**: 「成約管理」
   - **説明文**: 成約した求職者の売上・入金状況を管理
   - **月選択ドロップダウン**: 表示する月を選択
   - **担当者フィルター**: 担当者で絞り込み

2. **サマリーカード（4枚）**
   - **成約件数カード**: 選択月の成約件数
   - **売上（税抜）カード**: 合計売上
   - **入金済みカード**: 入金済み件数
   - **入金待ちカード**: 入金待ち件数

3. **担当者別成約カード**（該当データがある場合）
   - 担当者別の成約件数と売上を表示

4. **成約一覧テーブル**
   - カラム: ID、氏名、担当、経由、承諾日、売上（税抜）、入金日、入職先、ステータス（入金済み/入金待ち/キャンセル済み）、編集ボタン、キャンセル対応ボタン
   - **編集ボタン**: 成約情報のインライン編集
   - **キャンセル対応ボタン**: 入社キャンセルになった場合の返金情報を管理するダイアログを開く
     - 返金あり/なし（チェックボックス）
     - 返金日（返金ありの場合のみ表示・必須）
     - 返金額（返金ありの場合のみ表示・必須）
     - 備考（理由）（任意）
   - キャンセル済みの成約はステータス列に「キャンセル済み」バッジを表示

5. **月間実績サマリーカード**
   - 売上（税抜）、売上（税込）、平均単価（税抜）、入金率を表示

---

### 6. メンバー (`/members`)

#### 主要セクション

1. **左サイドバー: メンバーリスト**
   - **1課/2課タブ**: 課の切り替え
   - **メンバーリスト**: メンバーカード一覧
     - 各カード: アバター、名前、担当件数、売上（バッジ）

2. **メインエリア: 選択メンバーの詳細**（メンバー選択時）
   
   **左側（広め）**:
   - **売上・KPIカード（4枚）**:
     - 売上予算
     - 成約額（対予算%）
     - 面談設定（実績/目標）
     - 担当件数
   
   - **担当求職者一覧テーブル**:
     - カラム: 氏名、ステータス（編集可能）、案件、ヨミ、メモ、メモ編集ボタン
   
   **右側（コンパクト）**:
   - **当月ヨミカード**: A/B/C/Dヨミの金額表示
   - **翌月ヨミカード**: A/B/C/Dヨミの金額表示

---

### 7. 面接一覧 (`/interviews`)

#### 主要セクション

1. **サマリーカード（4枚）**
   - **予定カード**: 予定されている面接数
   - **完了カード**: 完了した面接数
   - **今月の成約カード**: 今月成約した件数
   - **面接→成約率カード**: 成約率パーセント

2. **フィルターバー**
   - **ステータスフィルター**: ドロップダウン選択
   - **担当者フィルター**: ドロップダウン選択

3. **タブ切り替え**
   - **すべてタブ**: すべての面接
   - **予定タブ**: 予定されている面接のみ
   - **完了タブ**: 完了した面接のみ

4. **面接一覧テーブル**
   - カラム: 日時、求職者、面接先、場所、担当者、ステータス、フィードバック

---

## UIコンポーネント名称

### 基本コンポーネント（`src/components/ui/`）

| コンポーネント名 | 説明 | 使用例 |
|-----------------|------|--------|
| **Button** | ボタン | プライマリ/セカンダリ/ゴーストボタン |
| **Card** | カードコンテナ | 情報をまとめて表示 |
| **Badge** | バッジ/ラベル | ステータス表示、カウント表示 |
| **Table** | テーブル | データ一覧表示 |
| **Input** | 入力フィールド | テキスト入力、検索バー |
| **Select** | ドロップダウン | フィルター選択 |
| **Tabs** | タブ | コンテンツの切り替え |
| **Dialog** | ダイアログ | モーダル表示 |
| **Separator** | 区切り線 | セクション分割 |

---

## 画面指示の例

### ✅ 良い指示の例

1. **具体的な場所指定**:
   - ❌ 「ダッシュボードの数字を直して」
   - ✅ 「ダッシュボードの『残り営業日カード』の数字を修正してください」

2. **コンポーネント名を使用**:
   - ❌ 「テーブルのボタンを追加」
   - ✅ 「求職者管理画面の『求職者一覧テーブル』に、各行の右端に編集ボタンを追加してください」

3. **タブ/セクションを明示**:
   - ❌ 「求職者詳細の情報を変更」
   - ✅ 「求職者詳細画面の『成約情報タブ』内の『成約詳細情報カード』の『入金日』フィールドを必須項目にしてください」

4. **ページ名とURLを併記**:
   - ❌ 「メンバー画面を修正」
   - ✅ 「メンバー画面（`/members`）の『選択メンバーの詳細』エリアの『売上・KPIカード』のレイアウトを変更してください」

### 📝 指示テンプレート

```
【修正画面】: [ページ名] ([URL])
【修正箇所】: [セクション名 / コンポーネント名]
【具体的な場所】: [カード名 / テーブル名 / ボタン名など]
【変更内容】: [何をどう変更するか]
```

### 例

```
【修正画面】: ダッシュボード (/)
【修正箇所】: トップライン情報カード
【具体的な場所】: 予算達成状況カードのAヨミ表示部分
【変更内容】: Aヨミのフォントサイズを大きくし、色を赤からオレンジに変更してください
```

---

## 補足情報

### カラースキーム

- **プライマリ**: バイオレット（`violet-500`）→インディゴ（`indigo-600`）のグラデーション
- **成功/成約**: グリーン/エメラルド系
- **警告**: アンバー/オレンジ系
- **エラー/重要**: ローズ/レッド系
- **情報**: スレート/グレー系

### ステータス一覧

#### 求職者ステータス
- `new`: 新規
- `contacting`: 連絡中
- `first_contact_done`: 初回連絡済み
- `proposing`: 提案中
- `interviewing`: 面接中
- `offer`: 内定確認中
- `closed_won`: 内定承諾（成約）
- `closed_lost`: 内定辞退
- `follow_up`: フォロー・ロスト

#### 面接ステータス
- `scheduled`: 予定
- `completed`: 完了
- `cancelled`: キャンセル

---

## 更新履歴

- 2025-01-XX: 初版作成
