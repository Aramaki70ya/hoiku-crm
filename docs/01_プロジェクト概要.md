# 保育事業部 採用管理SaaS (仮称: Hoiku CRM) 開発計画書

## 1. プロジェクト概要
現状、複数のスプレッドシート（CSV）に分散している求職者情報、進捗管理、面接日程を一元管理するWebアプリケーションを開発する。
将来的には外部販売（SaaS化）を視野に入れつつ、まずは社内業務の効率化とデータ整合性の担保を最優先とする。

## 2. 現状の課題 (As-Is)
*   **データ分散**: 連絡先マスタ、担当者別進捗シート、月別面接管理シートが独立しており、転記コストが発生。
*   **重複管理**: 同じ求職者情報が複数シートに存在し、片方の更新が他に反映されない。
*   **ID管理の欠如**: 同姓同名や表記揺れによる取り違えリスク。
*   **可視化の限界**: 「誰が」「今」「どのフェーズに」「何人いるか」を瞬時に把握できない。

## 3. 目指す姿 (To-Be)
*   **SSOT (Single Source of Truth)**: 全てのデータが1つのデータベースに統合され、どこから見ても最新情報が表示される。
*   **プロセス標準化**: 担当者ごとの属人的な管理手法をシステムフローとして統一。
*   **高度なUI/UX**: 複雑な入力項目を整理された画面で入力・閲覧でき、ダッシュボードで数値を可視化。

## 4. システム構成 (技術スタック) ※確定

### インフラ構成図
```
[ユーザー] → [Vercel (Next.js App + API)] → [Supabase (DB + Auth)]
                                                ↓
                                   [Email/Password or Google OAuth]
```

### 技術スタック詳細
| レイヤー | 技術 | 選定理由 |
| :--- | :--- | :--- |
| **Frontend** | Next.js 14 (App Router) + Tailwind CSS + Shadcn/UI | モダンなUI、高速開発 |
| **Hosting** | Vercel | Next.jsとの親和性、無料枠、自動デプロイ |
| **Backend** | Next.js Route Handlers (Node.js/TypeScript) | API層をアプリ内に同居し、認証/権限管理を集約 |
| **Database** | Supabase (PostgreSQL) | RLS（行レベルセキュリティ）、リアルタイム機能 |
| **認証** | Supabase Auth（Email/Password + Google OAuth） | 社内アカウント統制、将来的にSSO対応 |

### 認証フロー
1. ユーザーがログイン（Email/Password または Google OAuth）
2. Supabase Authがセッションを発行
3. Next.js APIがセッションを検証し、`users`テーブルのロールを取得
4. 認証済みユーザーのみがデータにアクセス可能

## 5. ロードマップ
1.  **フェーズ1: プロトタイプ開発（今回）**
    *   CSVデータの統合・移行
    *   基本機能（一覧、詳細、編集）の実装
    *   ダッシュボード（主要KPI表示）
2.  **フェーズ2: 運用トライアル**
    *   特定メンバーによる並行運用
    *   UI/UX改善
3.  **フェーズ3: 本格移行**
    *   スプレッドシート運用の停止
    *   全メンバーへの展開
4.  **フェーズ4: SaaS化機能実装**
    *   テナント管理（複数企業対応）
    *   権限管理の強化

