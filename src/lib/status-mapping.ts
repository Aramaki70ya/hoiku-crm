/**
 * ステータスマッピング定義
 * 月次マージシートのステータス（絵文字付き）とシステム内のステータスの対応関係
 */

/**
 * ステータス一覧（ユーザー定義）
 */
export const STATUS_LIST = [
  '初回連絡中',
  '連絡つかず（初回未接触）',
  '提案求人選定中',
  '求人提案済（返信待ち）',
  '書類選考中',
  '面接日程調整中',
  '面接確定済',
  '面接実施済（結果待ち）',
  '内定獲得（承諾確認中）',
  '内定承諾（成約）',
  '内定辞退',
  '音信不通',
  '追客中（中長期フォロー）',
  'クローズ（終了）',
  // 実際のデータに存在する追加ステータス
  '見学提案~設定',
  '再ヒアリング・条件変更あり',
  '初回ヒアリング実施済',
] as const

export type StatusType = typeof STATUS_LIST[number]

/**
 * 月次マージシートのステータス（絵文字付き）からシステム内のステータスへのマッピング
 */
export const MONTHLY_STATUS_MAP: Record<string, StatusType> = {
  // 初回連絡中 - 月次マージシートには直接対応するステータスがない可能性がある
  // '🟢 初回連絡中': '初回連絡中',
  
  // 連絡つかず（初回未接触）- 月次マージシートには直接対応するステータスがない可能性がある
  // '⚪ 連絡つかず': '連絡つかず（初回未接触）',
  
  // 提案求人選定中
  '🟣 提案求人選定中': '提案求人選定中',
  
  // 求人提案済（返信待ち）
  '🟤 求人提案済（返信待ち）': '求人提案済（返信待ち）',
  
  // 書類選考中
  '🟢 書類選考中': '書類選考中',
  
  // 面接日程調整中
  '🟢 面接日程調整中': '面接日程調整中',
  
  // 面接確定済
  '🟢 面接確定済': '面接確定済',
  
  // 面接実施済（結果待ち）
  '🟠 面接実施済（結果待ち）': '面接実施済（結果待ち）',
  
  // 内定獲得（承諾確認中）
  '🟣 内定獲得（承諾確認中）': '内定獲得（承諾確認中）',
  
  // 内定承諾（成約）
  '🟢 内定承諾（成約）': '内定承諾（成約）',
  
  // 内定辞退
  '🔴 内定辞退': '内定辞退',
  
  // 音信不通
  '⚪ 音信不通': '音信不通',
  
  // 追客中（中長期フォロー）
  '⚪ 追客中（中長期フォロー）': '追客中（中長期フォロー）',
  
  // クローズ（終了）
  '⚫ クローズ（終了）': 'クローズ（終了）',
  
  // 実際のデータに存在する追加ステータス
  '🟡見学提案~設定': '見学提案~設定',
  '🟠 再ヒアリング・条件変更あり': '再ヒアリング・条件変更あり',
  '🟢 初回ヒアリング実施済': '初回ヒアリング実施済',
}

/**
 * システム内のステータスから月次マージシートのステータス（絵文字付き）への逆マッピング
 */
export const STATUS_TO_MONTHLY_MAP: Record<StatusType, string> = {
  '初回連絡中': '🟢 初回連絡中', // 仮のマッピング（実際の値に合わせて調整）
  '連絡つかず（初回未接触）': '⚪ 連絡つかず（初回未接触）', // 仮のマッピング（実際の値に合わせて調整）
  '提案求人選定中': '🟣 提案求人選定中',
  '求人提案済（返信待ち）': '🟤 求人提案済（返信待ち）',
  '書類選考中': '🟢 書類選考中',
  '面接日程調整中': '🟢 面接日程調整中',
  '面接確定済': '🟢 面接確定済',
  '面接実施済（結果待ち）': '🟠 面接実施済（結果待ち）',
  '内定獲得（承諾確認中）': '🟣 内定獲得（承諾確認中）',
  '内定承諾（成約）': '🟢 内定承諾（成約）',
  '内定辞退': '🔴 内定辞退',
  '音信不通': '⚪ 音信不通',
  '追客中（中長期フォロー）': '⚪ 追客中（中長期フォロー）',
  'クローズ（終了）': '⚫ クローズ（終了）',
  '見学提案~設定': '🟡見学提案~設定',
  '再ヒアリング・条件変更あり': '🟠 再ヒアリング・条件変更あり',
  '初回ヒアリング実施済': '🟢 初回ヒアリング実施済',
}

/**
 * 月次マージシートのステータス（絵文字付き）をシステム内のステータスに変換
 */
export function mapMonthlyStatusToSystemStatus(monthlyStatus: string): StatusType | null {
  return MONTHLY_STATUS_MAP[monthlyStatus] || null
}

/**
 * システム内のステータスを月次マージシートのステータス（絵文字付き）に変換
 */
export function mapSystemStatusToMonthlyStatus(systemStatus: StatusType): string {
  return STATUS_TO_MONTHLY_MAP[systemStatus] || systemStatus
}

/**
 * 面接状況カードで使用するステータスの分類
 */
export const INTERVIEW_STATUS_CATEGORIES = {
  // 調整中: 面接日程調整中
  adjusting: ['面接日程調整中'] as StatusType[],
  
  // 面接前: 面接確定済
  beforeInterview: ['面接確定済'] as StatusType[],
  
  // 結果待ち: 面接実施済（結果待ち）
  waitingResult: ['面接実施済（結果待ち）'] as StatusType[],
  
  // 本人返事待ち: 内定獲得（承諾確認中）
  waitingReply: ['内定獲得（承諾確認中）'] as StatusType[],
} as const

/**
 * 初回連絡済みとみなすステータス一覧
 */
export const FIRST_CONTACT_STATUSES: StatusType[] = [
  '提案求人選定中',
  '求人提案済（返信待ち）',
  '書類選考中',
  '面接日程調整中',
  '面接確定済',
  '面接実施済（結果待ち）',
  '内定獲得（承諾確認中）',
  '内定承諾（成約）',
  '内定辞退',
  '音信不通',
  '追客中（中長期フォロー）',
  'クローズ（終了）',
  '見学提案~設定',
  '再ヒアリング・条件変更あり',
  '初回ヒアリング実施済',
]

/**
 * 面接設定済みとみなすステータス一覧
 */
export const INTERVIEW_SET_STATUSES: StatusType[] = [
  '面接確定済',
  '面接実施済（結果待ち）',
  '内定獲得（承諾確認中）',
  '内定承諾（成約）',
  '内定辞退',
]
